<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quizium</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <script src="assets/app.js" defer></script>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéØ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>

    <div class="bg-gradient"></div>

    <div class="main-content">

        <div id="homeScreen" class="screen-container">
            <header class="home-header">
                <div class="logo-circle">üéØ</div>
                <h1 class="app-name">Quizium</h1>
                <p class="app-tagline">Ready to challenge yourself?</p>
            </header>

            <div class="content-wrapper">
                <div class="section-header">
                    <span class="section-title">Explore Topics</span>
                    <span class="section-line"></span>
                </div>
                <div class="subjects-grid" id="subjectContainer"></div>
            </div>
        </div>

        <div id="questionCountScreen" class="screen-container hidden">
            <div class="nav-header">
                <button class="btn btn-icon-back" onclick="goHome()" aria-label="Go Back">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 12H5"></path>
                        <path d="M12 19l-7-7 7-7"></path>
                    </svg>
                </button>
                <h1 class="page-title" id="selectedSubjectTitle">Subject</h1>
            </div>

            <div class="options-block">
                <p class="page-description" style="margin-bottom: 24px;">Customize your session.</p>

                <div class="setup-grid">
                    <!-- Question Count Section -->
                    <div class="slider-wrapper">
                        <div class="label-questions">Number of Questions</div>
                        <div class="count-display-group">
                            <div class="slider-value-display">
                                <span id="sliderValue">10</span>
                            </div>
                            <div class="time-estimate-pill" id="timeEstimate">‚è±Ô∏è ~3 min</div>
                        </div>

                        <div class="preset-buttons">
                            <button class="preset-btn" onclick="setSliderValue(10)">Short</button>
                            <button class="preset-btn" onclick="setSliderValue(50)">Normal</button>
                            <button class="preset-btn" onclick="setSliderValue('max')">Max</button>
                        </div>

                        <div class="range-container">
                            <input type="range" min="1" max="50" value="10" class="slider" id="questionSlider">
                            <div class="slider-labels">
                                <span>1</span>
                                <span id="maxQuestionsLabel">All</span>
                            </div>
                        </div>
                    </div>

                    <!-- Time Mode Section -->
                    <div class="slider-wrapper">
                        <div class="label-questions" style="margin-bottom: 16px;">Time Mode</div>
                        <div class="preset-buttons vertical-options">
                            <button class="preset-btn active" id="btnTimeNone"
                                onclick="selectTimeMode('none')">None</button>
                            <button class="preset-btn" id="btnTimeStopwatch"
                                onclick="selectTimeMode('stopwatch')">Stopwatch</button>
                            <button class="preset-btn" id="btnTimeTimer"
                                onclick="selectTimeMode('timer')">Timer</button>
                        </div>

                        <div id="timerInputContainer" class="range-container slider-dimmed" style="margin-top: 20px;">
                            <input type="range" min="1" max="60" value="10" class="slider" id="timerSlider">
                            <div class="slider-labels">
                                <span>1m</span>
                                <span id="timerValueDisplay">10m</span>
                                <span>60m</span>
                            </div>
                        </div>
                    </div>

                    <!-- Correction Mode Section -->
                    <div class="slider-wrapper">
                        <div class="label-questions" style="margin-bottom: 16px;">Correction</div>
                        <div class="preset-buttons vertical-options">
                            <button class="preset-btn active" id="btnCorrectionInstant"
                                onclick="selectCorrectionMode('instant')">Instant</button>
                            <button class="preset-btn" id="btnCorrectionFinal"
                                onclick="selectCorrectionMode('final')">Final</button>
                        </div>
                        <div
                            style="margin-top: 16px; font-size: 0.85rem; color: var(--text-tertiary); text-align: center; line-height: 1.4;">
                            <span id="correctionModeDesc">Instant feedback after each answer.</span>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary full-width" onclick="startQuizFromSlider()"
                    style="margin-top: 24px;">Start Quiz</button>
            </div>
        </div>

        <div id="quizScreen" class="screen-container hidden">
            <div class="quiz-header">
                <div class="quiz-header-top">
                    <div class="quiz-header-left">
                        <button class="btn btn-close" id="btnQuizClose" onclick="goHome()"
                            aria-label="Exit Quiz">‚úï</button>
                        <button class="btn btn-close hidden" id="btnReviewBack" onclick="exitReview()"
                            aria-label="Back to Results"
                            style="font-size: 1rem; width: auto; padding: 0 8px; border-radius: 20px;">‚Üê Back</button>
                        <span class="quiz-subject-badge" id="quizSubjectTitle">Subject</span>
                    </div>

                    <div class="quiz-timer-display" id="timeDisplay"></div>

                    <div class="quiz-stats">
                        <div class="stat-pill correct"><span class="icon">‚úì</span> <span id="correctCount">0</span>
                        </div>
                        <div class="stat-pill wrong"><span class="icon">‚úó</span> <span id="wrongCount">0</span></div>
                    </div>
                </div>
                <div class="progress-track">
                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                </div>
            </div>

            <div class="quiz-scroll-area">
                <div class="question-card">
                    <div class="question-meta">
                        <span class="q-number">Question <span id="currentQuestion">1</span>/<span
                                id="totalQuestions">10</span></span>
                        <span class="q-id" id="questionIdDisplay"></span>
                    </div>

                    <h2 class="question-text" id="questionText">Loading...</h2>

                    <div class="answer-options" id="optionsContainer"></div>
                    <div id="explanationCallout" class="callout hidden"></div>
                </div>
            </div>

            <footer class="quiz-footer">
                <div class="navigator-container">
                    <div class="navigator-scroll" id="questionNavigator"></div>
                </div>
                <div class="quiz-navigation">
                    <button id="prevBtn" class="nav-btn btn-secondary" onclick="previousQuestion()">Previous</button>
                    <button id="nextBtn" class="nav-btn btn-primary" onclick="nextQuestion()">Next</button>
                </div>
            </footer>
        </div>

        <div id="resultsScreen" class="screen-container hidden">
            <div class="results-content">
                <div class="score-hero">
                    <div class="score-ring-container">
                        <svg class="score-ring" width="160" height="160" viewBox="0 0 160 160">
                            <circle class="ring-bg" cx="80" cy="80" r="70"></circle>
                            <circle class="ring-progress" id="scoreRing" cx="80" cy="80" r="70" stroke-linecap="round"
                                transform="rotate(-90 80 80)"></circle>
                        </svg>
                        <div class="score-text-center">
                            <span class="score-big" id="scorePercentage">0%</span>
                            <span class="score-label">Score</span>
                        </div>
                    </div>
                    <h2 class="result-title" id="resultTitle">Great Job!</h2>
                    <p class="result-subtitle" id="resultMessage">You have mastered this subject.</p>
                    <div class="time-result-badge hidden" id="timeResultBadge">
                        ‚è±Ô∏è <span id="timeResult">00:00</span>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-box correct">
                        <span class="stat-val" id="correctResult">0</span><span class="stat-lbl">Correct</span>
                    </div>
                    <div class="stat-box wrong">
                        <span class="stat-val" id="wrongResult">0</span><span class="stat-lbl">Wrong</span>
                    </div>
                    <div class="stat-box total">
                        <span class="stat-val" id="totalQuestionsResult">0</span><span class="stat-lbl">Total</span>
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn btn-primary full-width" onclick="restartQuiz()">Try Again</button>
                    <button class="btn btn-secondary full-width" id="btnReviewAnswers" onclick="startReview()"
                        style="margin-top: 12px; display: none;">Review Answers</button>
                    <button class="btn btn-ghost full-width" onclick="goHome()">Back to Home</button>
                </div>
            </div>
        </div>

    </div>
</body>

</html>